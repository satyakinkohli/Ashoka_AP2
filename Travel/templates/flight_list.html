{% extends 'base1.html' %}

<!DOCTYPE html>
<html lang="en">


{% block content %} 

{% load static %}

<head>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><meta charset="UTF-8">


    <style>
        
        body
        {
            background-color:rgba(255, 0, 255, 0.1);
        }
        
        .sizing_image
        {
            height: 100px;
            width: 100px;
            margin-left: 25%;
            margin-top: 12.5%;
        }

        .curved
        {
            border-radius: 25px;
            height: 165px;
            width: 630px;
        }

        .location
        {
            font-size: 16px;
            color: dimgrey;
        }

        * {box-sizing: border-box;}
body {font-family: Verdana, sans-serif;}
.mySlides {display: none;}
img {vertical-align: middle;}

/* Slideshow container */
.slideshow-container {
  max-width: 1000px;
  position: relative;
  margin: auto;
}

/* Caption text */
.text {
  color: #f2f2f2;
  font-size: 15px;
  padding: 8px 12px;
  position: absolute;
  bottom: 8px;
  width: 100%;
  text-align: center;
}

/* Number text (1/3 etc) */
.numbertext {
  color: #f2f2f2;
  font-size: 12px;
  padding: 8px 12px;
  position: absolute;
  top: 0;
}

/* The dots/bullets/indicators */
.dot {
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: #bbb;
  border-radius: 50%;
  display: inline-block;
  transition: background-color 0.6s ease;
}

.active {
  background-color: #717171;
}

/* Fading animation */
.fade {
  -webkit-animation-name: fade;
  -webkit-animation-duration: 1.5s;
  animation-name: fade;
  animation-duration: 1.5s;
}

@-webkit-keyframes fade {
  from {opacity: .4} 
  to {opacity: 1}
}

@keyframes fade {
  from {opacity: .4} 
  to {opacity: 1}
}

/* On smaller screens, decrease text size */
@media only screen and (max-width: 300px) {
  .text {font-size: 11px}
}


/* Button used to open the contact form - fixed at the bottom of the page */
.open-button {
  background-color: grey;
  color: white;
  padding: 8px 10px;
  border: none;
  cursor: pointer;
  opacity: 0.8;
  position: fixed;
  top: 23px;
  right: 28px;
  width: 120px;
  border-radius: 25px;
}

/* The popup form - hidden by default */
.form-popup {
  display: none;
  position: fixed;
  border: 3px solid #f1f1f1;
  z-index: 9;
  top: 150px;
  left: 40%;
  width: 300px;
}

/* Add styles to the form container */
.form-container {
  max-width: 400px;
  padding: 10px;
  background-color: white;
}

/* Full-width input fields */
.form-container input[type="text"],
.form-container input[type="password"] {
  width: 100%;
  padding: 15px;
  margin: 5px 0 22px 0;
  border: none;
  background: #f1f1f1;
}

/* When the inputs get focus, do something */
.form-container input[type="text"]:focus,
.form-container input[type="password"]:focus {
  background-color: #ddd;
  outline: none;
}

/* Set a style for the submit/login button */
.form-container .btn {
  background-color: #4caf50;
  color: white;
  padding: 16px 20px;
  border: none;
  cursor: pointer;
  width: 100%;
  margin-bottom: 10px;
  opacity: 0.8;
}

/* Add a red background color to the cancel button */
.form-container .cancel {
  background-color: red;
}

/* Add some hover effects to buttons */
.form-container .btn:hover,
.open-button:hover {
  opacity: 1;
}

.facebook {
  border-color: grey;
  border-radius: 5px;
  color: black;
  background-color: white;
  margin-left: 34%;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-right: 10px;
  padding-left: 10px;
}

.facebook2 {
  border-color: grey;
  border-radius: 5px;
  color: black;
  background-color: white;
  margin-left: 21%;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-right: 10px;
  padding-left: 10px;
}

.facebook3 {
  border-color: white;
  color: black;
  background-color: white;
  margin-left: 3%;
  padding-top: 1px;
  padding-bottom: 1px;
  padding-right: 3px;
  padding-left: 3px;
}

.facebook4 {
  border-color: white;
  color: black;
  background-color: white;
  margin-left: 90%;
  padding-top: 1px;
  padding-bottom: 1px;
  padding-right: 3px;
  padding-left: 3px;
}

.facebook5 {
  border-color: white;
  color: black;
  background-color: white;
  margin-left: 80%;
  padding-top: 1px;
  padding-bottom: 1px;
  padding-right: 5px;
  padding-left: 5px;
}

.sameline {
  display: flex;
  justify-content: space-between;
}

.logo {
  margin-left: 50%;
  margin-top: 10%;
}

    </style>

</head>

<body>

    {% if error_message %}
        <h3 style="text-align: center; margin-top: 10%;">
            {{error_message}}
        </h3>
    {% endif %}

    <div class="container-fluid mt-3">
      <div class="row">

        <! - - filter - - >

        <div class="col-lg-3 mx-auto">
          <div class="list-group mt-3" >




            </h5><a href="/menu" class="list-group-item list-group-item-action">Filters</a> 

            {% for category in categories %}
            <a href="" class="list-group-item list-group-item-action">{category.name}</a>
            {% endfor %}
          </div>
        </div>

        <! - - all products - - >
        <div id='products' class="col-lg-6 mx-auto">
          <div class="row mx-auto" id="life2">



<!-- 
    <div class="container-fluid mt-3">
      <div class="row">

        <! - - filter - - >

        <div class="col-lg-3 mx-auto">
          <div class="list-group mt-3" > -->


    {% for flight in possible_flights %}
        <div class="card curved" style="margin-bottom:1.5%; margin-top:1.5%;">
            <div class="row no-gutters">
                <div class="col-sm-3">
                    <img class="sizing_image card-img" src="{{flight.airline.logos.url}}" alt="Flight Logo">
                    <p class="card-text" style="margin-left: 35.5%; margin-top: 6.5%">{{flight.airline.name}}</p>
                </div>
                <div class="col-sm-6">
                    <div class="card-body">
                      <h5 class="card-title" style="margin-top:5%">{{flight.departure_time}} - {{flight.arrival_time}}</h5>
                      <p class="card-text location">{{flight.source}} - {{flight.destination}}</p>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="card-body">
                      <h4 class="float-right" style="font-size: 20px; margin-top:15%; margin-right: 15%">â‚¹ {{flight.economy_price}}</h4>
                      <form action="" method="post" class="form-container">
                        {% csrf_token %}
                        <input hidden type="text" name ='flight_id' value='{{flight.id}}'>
                        {% if user and not user.is_anonymous %}
                        <input class="btn btn-warning btn-lg" value="Book" type="submit" style="font-style: italic; float: right; padding-top: 8px; padding-bottom: 8px; padding-right: 20px; padding-left: 20px; margin-top: 15%; margin-right: 5%">
                        {% else %}
                        <input class="btn btn-warning btn-lg" value="Book" type="button" onclick="login_error()" style="font-style: italic; float: right; padding-top: 8px; padding-bottom: 8px; padding-right: 20px; padding-left: 20px; margin-top: 15%; margin-right: 5%">
                        {% endif %}
                      </form>
                    </div>
                </div>

                </div>
            </div>
        </div>
        </div>
      
    {% endfor %}





    <! - - all products - - >
    <div id='products' class="col-lg-3 mx-auto">
      <div class="row mx-auto" id="life2">

        <div class="slideshow-container"; style="margin-left:0.75%">

          <div class="mySlides fade">
            <div class="numbertext">1 / 3</div>
            <img src="{% static '/9.png' %}" style="width:275px; height:275px; border-radius:10px; margin-left:2px">
           
            
          </div>
          
          <div class="mySlides fade">
            <div class="numbertext">2 / 3</div>
            <img src="{% static '/7.png' %}" style="width:275px; height:275px; border-radius:10px; margin-left:2px">
            
          </div>
          
          <div class="mySlides fade">
            <div class="numbertext">3 / 3</div>
            <img src="{% static '/8.png' %}" style="width:275px; height:275px; border-radius:10px; margin-left:2px">
            
          </div>
          
          </div>
          <br>
          
          <div style="margin-left:36%">
            <span class="dot"></span> 
            <span class="dot"></span> 
            <span class="dot"></span> 
          </div>
          
          <script>
          var slideIndex = 0;
          showSlides();
          
          function showSlides() {
            var i;
            var slides = document.getElementsByClassName("mySlides");
            var dots = document.getElementsByClassName("dot");
            for (i = 0; i < slides.length; i++) {
              slides[i].style.display = "none";  
            }
            slideIndex++;
            if (slideIndex > slides.length) {slideIndex = 1}    
            for (i = 0; i < dots.length; i++) {
              dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex-1].style.display = "block";  
            dots[slideIndex-1].className += " active";
            setTimeout(showSlides, 2000); // Change image every 2 seconds
          }
          </script>




    
 

<img src="{% static '/6.png' %}" style="width:277px; height:277px; border-radius:10px; margin-left:2px; margin-top:10px;">
<img src="{% static '/10.png' %}" style="width:277px; height:277px; border-radius:10px; margin-left:2px; margin-top:25px;">
<img src="{% static '/11.png' %}" style="width:277px; height:277px; border-radius:10px; margin-left:2px; margin-top:25px;">
<img src="{% static '/12.png' %}" style="width:277px; height:277px; border-radius:10px; margin-left:2px; margin-top:25px;">

</div>
</div>
        </div>
      </div>

    <div class="form-popup" id="Form_Flight">
        <form action="/flight_summary" method="get" class="form-container">

        <div class="sameline"> 
            <button type="button" class="facebook5" onclick="goback1()"><img src="https://img.favpng.com/11/18/20/left-arrow-png-favpng-MXKqBe6jLNdwFDffKJLEwF1NU.jpg" height="15px" widht="15px"></button>
            <button type="button" class="facebook3" onclick="closeForm1()"><img src="https://www.pinclipart.com/picdir/middle/35-356107_close-button-icon-png-clipart.png" height="15px" widht="15px"></button>
        </div>
        <br>
        

  <br>
        <label for="economy" style="margin-left:24.5%">Economy:</label>
  <select id="economy" name="economy" style="margin-left:18%" >
    <option value="0" >0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
  </select>
  <br>
  

  <br>
        <label for="business" style="margin-left:24.5%">Business:</label>
  <select id="business" name="business" style="margin-left:18.5%" >
    <option value="0">0</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
  </select>
  
  <br>
  <br>

        <button type="submit" class="btn btn-warning">Continue</button>
        
        </form>
    </div>

    <script>

      var flight_id = "{{ flight_id }}";

      function login_error() {
        alert("Please log in to continue");
      }
      
      function closeForm1() {
          document.getElementById("Form_Flight").style.display = "none";
      }
      
      function goback1() {
          document.getElementById("Form_Flight").style.display = "none";
      }

      function when_page_loads(flight_id) {
        if (flight_id)
        {
          document.getElementById("Form_Flight").style.display = "block";
        }
      }

      window.onload = when_page_loads(flight_id);

    </script>


    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    {% endblock %}

</body>
</html>